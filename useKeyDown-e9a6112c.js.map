{"version":3,"file":"useKeyDown-e9a6112c.js","sources":["../src/_shared/hooks/useKeyDown.ts"],"sourcesContent":["import * as React from 'react';\n\nexport const useIsomorphicEffect =\n  typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n\ntype KeyHandlers = Record<number, () => void>;\n\nexport function runKeyHandler(e: KeyboardEvent | React.KeyboardEvent, keyHandlers: KeyHandlers) {\n  const handler = keyHandlers[e.keyCode];\n  if (handler) {\n    handler();\n    // if event was handled prevent other side effects (e.g. page scroll)\n    e.preventDefault();\n  }\n}\n\nexport function useKeyDownHandler(active: boolean, keyHandlers: KeyHandlers) {\n  const keyHandlersRef = React.useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n\n  return React.useCallback(\n    (e: React.KeyboardEvent) => {\n      if (active) {\n        runKeyHandler(e, keyHandlersRef.current);\n      }\n    },\n    [active]\n  );\n}\n\nexport function useGlobalKeyDown(active: boolean, keyHandlers: KeyHandlers) {\n  const keyHandlersRef = React.useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n\n  useIsomorphicEffect(() => {\n    if (active) {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        runKeyHandler(event, keyHandlersRef.current);\n      };\n      window.addEventListener('keydown', handleKeyDown);\n      return () => {\n        window.removeEventListener('keydown', handleKeyDown);\n      };\n    }\n  }, [active]);\n}\n\nexport const keycode = {\n  ArrowUp: 38,\n  ArrowDown: 40,\n  ArrowLeft: 37,\n  ArrowRight: 39,\n  Enter: 13,\n  Home: 36,\n  End: 35,\n  PageUp: 33,\n  PageDown: 34,\n  Esc: 27,\n};\n"],"names":["useIsomorphicEffect","window","React","runKeyHandler","e","keyHandlers","handler","keyCode","preventDefault","useGlobalKeyDown","active","keyHandlersRef","current","handleKeyDown","event","addEventListener","removeEventListener","keycode","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Home","End","PageUp","PageDown","Esc"],"mappings":";;IAEaA,mBAAmB,GAC9B,OAAOC,MAAP,KAAkB,WAAlB,GAAgCC,SAAhC,GAAkDA;AAI7C,SAASC,aAAT,CAAuBC,CAAvB,EAA+DC,WAA/D,EAAyF;AAC9F,MAAMC,OAAO,GAAGD,WAAW,CAACD,CAAC,CAACG,OAAH,CAA3B;;AACA,MAAID,OAAJ,EAAa;AACXA,IAAAA,OAAO,GADI;;AAGXF,IAAAA,CAAC,CAACI,cAAF;AACD;AACF;AAgBM,SAASC,gBAAT,CAA0BC,MAA1B,EAA2CL,WAA3C,EAAqE;AAC1E,MAAMM,cAAc,GAAGT,MAAA,CAAaG,WAAb,CAAvB;AACAM,EAAAA,cAAc,CAACC,OAAf,GAAyBP,WAAzB;AAEAL,EAAAA,mBAAmB,CAAC,YAAM;AACxB,QAAIU,MAAJ,EAAY;AACV,UAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAA0B;AAC9CX,QAAAA,aAAa,CAACW,KAAD,EAAQH,cAAc,CAACC,OAAvB,CAAb;AACD,OAFD;;AAGAX,MAAAA,MAAM,CAACc,gBAAP,CAAwB,SAAxB,EAAmCF,aAAnC;AACA,aAAO,YAAM;AACXZ,QAAAA,MAAM,CAACe,mBAAP,CAA2B,SAA3B,EAAsCH,aAAtC;AACD,OAFD;AAGD;AACF,GAVkB,EAUhB,CAACH,MAAD,CAVgB,CAAnB;AAWD;IAEYO,OAAO,GAAG;AACrBC,EAAAA,OAAO,EAAE,EADY;AAErBC,EAAAA,SAAS,EAAE,EAFU;AAGrBC,EAAAA,SAAS,EAAE,EAHU;AAIrBC,EAAAA,UAAU,EAAE,EAJS;AAKrBC,EAAAA,KAAK,EAAE,EALc;AAMrBC,EAAAA,IAAI,EAAE,EANe;AAOrBC,EAAAA,GAAG,EAAE,EAPgB;AAQrBC,EAAAA,MAAM,EAAE,EARa;AASrBC,EAAAA,QAAQ,EAAE,EATW;AAUrBC,EAAAA,GAAG,EAAE;AAVgB;;;;"}